(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{762:function(t,e,n){n(297),n(72),n(206),n(205),n(217),n(3),n(79),n(212),n(103),n(360),
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){"use strict";if("Element"in t){var e=t.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(t,e)},s=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return-1!==a(this,t+="")},l.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{t=e[n]+"",-1===a(this,t)&&(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(t=n[r]+"",e=a(this,t);-1!==e;)this.splice(e,1),o=!0,e=a(this,t)}while(++r<i);o&&this._updateClassName()},l.toggle=function(t,e){t+="";var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},l.toString=function(){return this.join(" ")},n.defineProperty){var u={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",u)}catch(t){void 0!==t.number&&-2146823252!==t.number||(u.enumerable=!1,n.defineProperty(e,"classList",u))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}())},793:function(t,e,n){"use strict";n(331),n(3),n(80),n(9),n(10),n(11),n(2),n(4),n(5),n(57),n(31),n(350);var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=function(){function t(t){void 0===t&&(t="");var e=this;this.saveLayout=function(t,n){if(!e.isDev){var i=n.map((function(t){return r(r({},t),{moved:void 0})}));return e.PUT("/dashboard/".concat(t),i)}},this.createWidget=function(t){return i(e,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return this.isDev?[4,this.GET("/widget/create.json?type=".concat(t))]:[3,2];case 1:return e=n.sent(),[3,4];case 2:return[4,this.POST("/widget?type=".concat(t),null)];case 3:e=n.sent(),n.label=4;case 4:return[4,e.json()];case 5:return[2,n.sent()]}}))}))},this.getWidgetHtml=function(t){return i(e,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return this.isDev?[4,this.GET("/widget/".concat(t,"/create"))]:[3,2];case 1:return e=n.sent(),[3,4];case 2:return[4,this.GET("/widget/".concat(t))];case 3:e=n.sent(),n.label=4;case 4:return[2,e.text()]}}))}))},this.deleteWidget=function(t){return!e.isDev&&e.DELETE("/widget/".concat(t))},this.getEditForm=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.GET("/widget/".concat(t,"/edit"))];case 1:return[2,e.sent().json()]}}))}))},this.saveWidget=function(t,n){return i(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return this.isDev?[4,this.GET("/widget/update.json")]:[3,2];case 1:return e=r.sent(),[3,4];case 2:return[4,this.PUT("".concat(t,"?").concat(n),null)];case 3:e=r.sent(),r.label=4;case 4:return[4,e.json()];case 5:return[2,r.sent()]}}))}))},this.baseUrl=t,this.headers={},this.isDev=window.siteConfig&&window.siteConfig.isDev}return t.prototype._fetch=function(t,e,n){return i(this,void 0,void 0,(function(){var r,i,a,s,l;return o(this,(function(o){if(!t)throw new Error("Route is undefined");return r="","POST"!==e&&"PUT"!==e&&"PATCH"!==e&&"DELETE"!==e||(i=document.querySelector("body"),(a=i?i.getAttribute("data-csrf"):null)&&(r=t.indexOf("?")>-1?"&csrf-token=".concat(a):"?csrf-token=".concat(a))),s="".concat(this.baseUrl).concat(t).concat(r),l={method:e,headers:Object.assign(this.headers),credentials:"same-origin"},n&&(l.body=JSON.stringify(n)),[2,fetch(s,l)]}))}))},t.prototype.GET=function(t){return this._fetch(t,"GET",null)},t.prototype.POST=function(t,e){return this._fetch(t,"POST",e)},t.prototype.PUT=function(t,e){return this._fetch(t,"PUT",e)},t.prototype.PATCH=function(t,e){return this._fetch(t,"PATCH",e)},t.prototype.DELETE=function(t){return this._fetch(t,"DELETE",null)},t}();e.a=a},824:function(t,e,n){"use strict";n(317),n(332),n(331),n(3),n(80),n(9),n(10),n(11),n(2),n(4),n(5),n(349),n(98),n(57),n(104),n(353),n(31),n(308);var r,i=n(290),o=n.n(i),a=n(767),s=n.n(a),l=n(768),c=n.n(l),u=n(780),d=n.n(u),f=(n(205),function(t){var e=t.hMargin,n=t.dashboards,r=t.currentDashboard,i=t.loading;return o.a.createElement("div",{className:"content-block__navigation",style:{marginLeft:e,marginRight:e}},o.a.createElement("div",{className:"content-block__navigation-left"},i?o.a.createElement("p",{className:"spinner"},o.a.createElement("i",{className:"fa fa-spinner fa-spin"})):null,o.a.createElement("div",{className:"list list--horizontal list--no-borders"},o.a.createElement("ul",{id:"menu_view",className:"list__items",role:"menu"},n.map((function(t,e){return o.a.createElement("li",{className:"list__item",key:e},function(t){return t.name===r.name?o.a.createElement("span",{className:"link link--primary link--active"},t.name):o.a.createElement("a",{className:"link link--primary",href:t.url},o.a.createElement("span",null,t.name))}(t))}))))))}),p=n(0),m=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this,e)||this;return n.shouldComponentUpdate=function(t){return t.widget.html!==n.props.widget.html},n.componentDidUpdate=function(){n.initializeLinkspace()},n.initializeLinkspace=function(){n.ref&&Object(p.d)(n.ref.current)},n.ref=o.a.createRef(),n}return m(e,t),e.prototype.render=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:this.ref,dangerouslySetInnerHTML:{__html:this.props.widget.html}}),this.props.readOnly?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{className:"ld-edit-button",onClick:this.props.onEditClick},o.a.createElement("span",null,"edit widget")),o.a.createElement("span",{className:"ld-draggable-handle"},o.a.createElement("span",null,"drag widget"))))},e}(o.a.Component),g=function(t){var e=t.addWidget,n=t.widgetTypes,r=t.currentDashboard,i=t.readOnly,a=t.noDownload;return o.a.createElement("div",{className:"ld-footer-container"},a?null:o.a.createElement("div",{className:"btn-group mb-3 mb-md-0 mr-md-4"},o.a.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false","aria-controls":"menu_view"},"Download ",o.a.createElement("span",{className:"caret"})),o.a.createElement("div",{className:"dropdown-menu dropdown__menu dropdown-menu-right scrollable-menu",role:"menu"},o.a.createElement("ul",{id:"menu_view",className:"dropdown__list"},o.a.createElement("li",{className:"dropdown__item"},o.a.createElement("a",{className:"link link--plain",href:r.download_url},"As PDF"))))),i?null:o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false","aria-controls":"menu_view"},"Add Widget"),o.a.createElement("div",{className:"dropdown-menu dropdown__menu dropdown-menu-right scrollable-menu",role:"menu"},o.a.createElement("ul",{id:"menu_view",className:"dropdown__list"},n.map((function(t){return o.a.createElement("li",{key:t,className:"dropdown__item"},o.a.createElement("a",{className:"link link--plain",href:"#",onClick:function(n){n.preventDefault(),e(t)}},t))}))))))},y=n(178),b=n(174);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},_=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},S=Object(u.WidthProvider)(d.a),N={content:{minWidth:"350px",maxWidth:"80vw",maxHeight:"90vh",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)",padding:0},overlay:{zIndex:1030,background:"rgba(0, 0, 0, .15)"}},k=function(t){function e(e){var n=t.call(this,e)||this;n.componentDidMount=function(){n.initializeGlobeComponents()},n.componentDidUpdate=function(t,e){window.requestAnimationFrame(n.overWriteSubmitEventListener),n.state.editModalOpen&&e.loadingEditHtml&&!n.state.loadingEditHtml&&n.formRef&&n.initializeSummernoteComponent(),n.state.editModalOpen||e.loadingEditHtml||n.state.loadingEditHtml||n.initializeGlobeComponents()},n.initializeSummernoteComponent=function(){var t=n.formRef.current.querySelector(".summernote");if(t)new y.a(t)},n.initializeGlobeComponents=function(){document.querySelectorAll(".globe").forEach((function(t){new b.a(t)}))},n.updateWidgetHtml=function(t){return _(n,void 0,void 0,(function(){var e,n;return O(this,(function(r){switch(r.label){case 0:return[4,this.props.api.getWidgetHtml(t)];case 1:return e=r.sent(),n=this.state.widgets.map((function(n){return n.config.i===t?E(E({},n),{html:e}):n})),this.setState({widgets:n}),[2]}}))}))},n.fetchEditForm=function(t){return _(n,void 0,void 0,(function(){var e;return O(this,(function(n){switch(n.label){case 0:return[4,this.props.api.getEditForm(t)];case 1:return(e=n.sent()).is_error?(this.setState({loadingEditHtml:!1,editError:e.message}),[2]):(this.setState({loadingEditHtml:!1,editError:!1,editHtml:e.content}),[2])}}))}))},n.onEditClick=function(t){return function(e){e.preventDefault(),n.showEditForm(t)}},n.showEditForm=function(t){n.setState({editModalOpen:!0,loadingEditHtml:!0,activeItem:t}),n.fetchEditForm(t)},n.closeModal=function(){n.setState({editModalOpen:!1})},n.deleteActiveWidget=function(){window.confirm("Deleting a widget is permanent! Are you sure?")&&(n.setState({widgets:n.state.widgets.filter((function(t){return t.config.i!==n.state.activeItem})),editModalOpen:!1}),n.props.api.deleteWidget(n.state.activeItem))},n.saveActiveWidget=function(t){return _(n,void 0,void 0,(function(){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return t.preventDefault(),(e=this.formRef.current.querySelector("form"))?(n=s()(e),[4,this.props.api.saveWidget(e.getAttribute("action"),n)]):(console.error("No form element was found!"),[2]);case 1:return(r=i.sent()).is_error?(this.setState({editError:r.message}),[2]):(this.updateWidgetHtml(this.state.activeItem),this.closeModal(),[2])}}))}))},n.isGridConflict=function(t,e,r,i){var o=t,a=e,s=t+r,l=e+i;return n.state.layout.some((function(t){return!(o>=t.x+t.w||t.x>=s)&&!(a>=t.y+t.h||t.y>=l)}))},n.firstAvailableSpot=function(t,e){for(var r=0,i=0;n.isGridConflict(r,i,t,e)&&(r+t<n.props.gridConfig.cols?r+=1:(r=0,i+=1),!(i>200)););return{x:r,y:i}},n.addWidget=function(t){return _(n,void 0,void 0,(function(){var e,n,r,i,o,a,s,l=this;return O(this,(function(c){switch(c.label){case 0:return this.setState({loading:!0}),[4,this.props.api.createWidget(t)];case 1:return(e=c.sent()).error?(this.setState({loading:!1}),alert(e.message),[2]):(n=e.message,r=this.firstAvailableSpot(1,1),i=r.x,o=r.y,a={i:n,x:i,y:o,w:1,h:1},s=this.state.layout.concat(a),this.setState({widgets:this.state.widgets.concat({config:a,html:"Loading..."}),layout:s,loading:!1},(function(){return l.updateWidgetHtml(n)})),this.props.api.saveLayout(this.props.dashboardId,s),this.showEditForm(n),[2])}}))}))},n.generateDOM=function(){return n.state.widgets.map((function(t){return o.a.createElement("div",{key:t.config.i,className:"ld-widget-container ".concat(n.props.readOnly||t.config.static?"":"ld-widget-container--editable")},o.a.createElement(h,{key:t.config.i,widget:t,readOnly:n.props.readOnly||t.config.static,onEditClick:n.onEditClick(t.config.i)}))}))},n.onLayoutChange=function(t){n.shouldSaveLayout(n.state.layout,t)&&n.props.api.saveLayout(n.props.dashboardId,t),n.setState({layout:t})},n.shouldSaveLayout=function(t,e){if(t.length!==e.length)return!0;for(var n=function(n){if(Object.entries(e[n]).some((function(e){var r=e[0],i=e[1];return"moved"!==r&&"static"!==r&&i!==t[n][r]})))return{value:!0}},r=0;r<t.length;r+=1){var i=n(r);if("object"===v(i))return i.value}return!1},n.renderModal=function(){return o.a.createElement(c.a,{isOpen:n.state.editModalOpen,onRequestClose:n.closeModal,style:N,shouldCloseOnOverlayClick:!0,contentLabel:"Edit Modal"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("div",{className:"modal-header__content"},o.a.createElement("h3",{className:"modal-title"},"Edit widget")),o.a.createElement("button",{className:"close",onClick:n.closeModal},o.a.createElement("span",{"aria-hidden":"true",className:"hidden"},"Close"))),o.a.createElement("div",{className:"modal-body"},n.state.editError?o.a.createElement("p",{className:"alert alert-danger"},n.state.editError):null,n.state.loadingEditHtml?o.a.createElement("span",{className:"ld-modal__loading"},"Loading..."):o.a.createElement("div",{ref:n.formRef,dangerouslySetInnerHTML:{__html:n.state.editHtml}})),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("div",{className:"modal-footer__left"},o.a.createElement("button",{className:"btn btn-cancel",onClick:n.deleteActiveWidget},"Delete")),o.a.createElement("div",{className:"modal-footer__right"},o.a.createElement("button",{className:"btn btn-default",onClick:n.saveActiveWidget},"Save"))))},n.overWriteSubmitEventListener=function(){var t=document.getElementById("ld-form-container");if(t){var e=t.querySelector("form");if(e){e.addEventListener("submit",n.saveActiveWidget);var r=document.createElement("input");r.setAttribute("type","submit"),r.setAttribute("style","visibility: hidden"),e.appendChild(r)}}},c.a.setAppElement("#ld-app");var r=e.widgets.map((function(t){return t.config}));return n.formRef=o.a.createRef(),n.state={widgets:e.widgets,layout:r,editModalOpen:!1,activeItem:0,editHtml:"",editError:null,loading:!1,loadingEditHtml:!0},n}return w(e,t),e.prototype.render=function(){return o.a.createElement("div",{className:"content-block"},this.props.hideMenu?null:o.a.createElement(f,{hMargin:this.props.gridConfig.containerPadding[0],dashboards:this.props.dashboards,currentDashboard:this.props.currentDashboard,loading:this.state.loading}),this.renderModal(),o.a.createElement("div",{className:"content-block__main"},o.a.createElement(S,E({className:"content-block__main-content ".concat(this.props.readOnly?"":"react-grid-layout--editable"),isDraggable:!this.props.readOnly,isResizable:!this.props.readOnly,draggableHandle:".ld-draggable-handle",useCSSTransforms:!1,layout:this.state.layout,onLayoutChange:this.onLayoutChange,items:this.state.layout.length},this.props.gridConfig),this.generateDOM())),this.props.hideMenu?null:o.a.createElement(g,{addWidget:this.addWidget,widgetTypes:this.props.widgetTypes,currentDashboard:this.props.currentDashboard,noDownload:this.props.noDownload,readOnly:this.props.readOnly}))},e}(o.a.Component);e.a=k},827:function(t,e,n){"use strict";n.r(e),function(t){n(204),n(57),n(15),n(3),n(16),n(12),n(13),n(9),n(10),n(14),n(11),n(2),n(4),n(5);var r=n(0),i=(n(538),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(290)),o=n.n(i),a=n(303),s=n.n(a),l=n(824),c=n(793);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(u,e);var n,r,i,a=p(u);function u(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,e)).el=t(n.element),n.gridConfig={cols:2,margin:[32,32],containerPadding:[0,10],rowHeight:80},n.initDashboard(),n}return n=u,(r=[{key:"initDashboard",value:function(){this.element.className="";var t=Array.prototype.slice.call(document.querySelectorAll("#ld-app > div")).map((function(t){return{html:t.innerHTML,config:JSON.parse(t.getAttribute("data-grid"))}})),e=new c.a(this.element.getAttribute("data-dashboard-endpoint")||"");s.a.render(o.a.createElement(l.a,{widgets:t,dashboardId:this.element.getAttribute("data-dashboard-id"),currentDashboard:JSON.parse(this.element.getAttribute("data-current-dashboard")||"{}"),readOnly:"true"===this.element.getAttribute("data-dashboard-read-only"),hideMenu:"true"===this.element.getAttribute("data-dashboard-hide-menu"),noDownload:"true"===this.element.getAttribute("data-dashboard-no-download"),api:e,widgetTypes:JSON.parse(this.element.getAttribute("data-widget-types")||"[]"),dashboards:JSON.parse(this.element.getAttribute("data-dashboards")||"[]"),gridConfig:this.gridConfig}),this.element)}}])&&d(n.prototype,r),i&&d(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}(r.a);e.default=g}.call(this,n(1))}}]);