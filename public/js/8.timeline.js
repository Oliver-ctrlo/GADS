(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{800:function(t,e,n){var r={"./af":395,"./af.js":395,"./ar":396,"./ar-dz":397,"./ar-dz.js":397,"./ar-kw":398,"./ar-kw.js":398,"./ar-ly":399,"./ar-ly.js":399,"./ar-ma":400,"./ar-ma.js":400,"./ar-sa":401,"./ar-sa.js":401,"./ar-tn":402,"./ar-tn.js":402,"./ar.js":396,"./az":403,"./az.js":403,"./be":404,"./be.js":404,"./bg":405,"./bg.js":405,"./bm":406,"./bm.js":406,"./bn":407,"./bn-bd":408,"./bn-bd.js":408,"./bn.js":407,"./bo":409,"./bo.js":409,"./br":410,"./br.js":410,"./bs":411,"./bs.js":411,"./ca":412,"./ca.js":412,"./cs":413,"./cs.js":413,"./cv":414,"./cv.js":414,"./cy":415,"./cy.js":415,"./da":416,"./da.js":416,"./de":417,"./de-at":418,"./de-at.js":418,"./de-ch":419,"./de-ch.js":419,"./de.js":417,"./dv":420,"./dv.js":420,"./el":421,"./el.js":421,"./en-au":422,"./en-au.js":422,"./en-ca":423,"./en-ca.js":423,"./en-gb":424,"./en-gb.js":424,"./en-ie":425,"./en-ie.js":425,"./en-il":426,"./en-il.js":426,"./en-in":427,"./en-in.js":427,"./en-nz":428,"./en-nz.js":428,"./en-sg":429,"./en-sg.js":429,"./eo":430,"./eo.js":430,"./es":431,"./es-do":432,"./es-do.js":432,"./es-mx":433,"./es-mx.js":433,"./es-us":434,"./es-us.js":434,"./es.js":431,"./et":435,"./et.js":435,"./eu":436,"./eu.js":436,"./fa":437,"./fa.js":437,"./fi":438,"./fi.js":438,"./fil":439,"./fil.js":439,"./fo":440,"./fo.js":440,"./fr":441,"./fr-ca":442,"./fr-ca.js":442,"./fr-ch":443,"./fr-ch.js":443,"./fr.js":441,"./fy":444,"./fy.js":444,"./ga":445,"./ga.js":445,"./gd":446,"./gd.js":446,"./gl":447,"./gl.js":447,"./gom-deva":448,"./gom-deva.js":448,"./gom-latn":449,"./gom-latn.js":449,"./gu":450,"./gu.js":450,"./he":451,"./he.js":451,"./hi":452,"./hi.js":452,"./hr":453,"./hr.js":453,"./hu":454,"./hu.js":454,"./hy-am":455,"./hy-am.js":455,"./id":456,"./id.js":456,"./is":457,"./is.js":457,"./it":458,"./it-ch":459,"./it-ch.js":459,"./it.js":458,"./ja":460,"./ja.js":460,"./jv":461,"./jv.js":461,"./ka":462,"./ka.js":462,"./kk":463,"./kk.js":463,"./km":464,"./km.js":464,"./kn":465,"./kn.js":465,"./ko":466,"./ko.js":466,"./ku":467,"./ku.js":467,"./ky":468,"./ky.js":468,"./lb":469,"./lb.js":469,"./lo":470,"./lo.js":470,"./lt":471,"./lt.js":471,"./lv":472,"./lv.js":472,"./me":473,"./me.js":473,"./mi":474,"./mi.js":474,"./mk":475,"./mk.js":475,"./ml":476,"./ml.js":476,"./mn":477,"./mn.js":477,"./mr":478,"./mr.js":478,"./ms":479,"./ms-my":480,"./ms-my.js":480,"./ms.js":479,"./mt":481,"./mt.js":481,"./my":482,"./my.js":482,"./nb":483,"./nb.js":483,"./ne":484,"./ne.js":484,"./nl":485,"./nl-be":486,"./nl-be.js":486,"./nl.js":485,"./nn":487,"./nn.js":487,"./oc-lnc":488,"./oc-lnc.js":488,"./pa-in":489,"./pa-in.js":489,"./pl":490,"./pl.js":490,"./pt":491,"./pt-br":492,"./pt-br.js":492,"./pt.js":491,"./ro":493,"./ro.js":493,"./ru":494,"./ru.js":494,"./sd":495,"./sd.js":495,"./se":496,"./se.js":496,"./si":497,"./si.js":497,"./sk":498,"./sk.js":498,"./sl":499,"./sl.js":499,"./sq":500,"./sq.js":500,"./sr":501,"./sr-cyrl":502,"./sr-cyrl.js":502,"./sr.js":501,"./ss":503,"./ss.js":503,"./sv":504,"./sv.js":504,"./sw":505,"./sw.js":505,"./ta":506,"./ta.js":506,"./te":507,"./te.js":507,"./tet":508,"./tet.js":508,"./tg":509,"./tg.js":509,"./th":510,"./th.js":510,"./tk":511,"./tk.js":511,"./tl-ph":512,"./tl-ph.js":512,"./tlh":513,"./tlh.js":513,"./tr":514,"./tr.js":514,"./tzl":515,"./tzl.js":515,"./tzm":516,"./tzm-latn":517,"./tzm-latn.js":517,"./tzm.js":516,"./ug-cn":518,"./ug-cn.js":518,"./uk":519,"./uk.js":519,"./ur":520,"./ur.js":520,"./uz":521,"./uz-latn":522,"./uz-latn.js":522,"./uz.js":521,"./vi":523,"./vi.js":523,"./x-pseudo":524,"./x-pseudo.js":524,"./yo":525,"./yo.js":525,"./zh-cn":526,"./zh-cn.js":526,"./zh-hk":527,"./zh-hk.js":527,"./zh-mo":528,"./zh-mo.js":528,"./zh-tw":529,"./zh-tw.js":529};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id=800},822:function(t,e,n){"use strict";n(9),n(10),n(3),n(11),n(2),n(4),n(5);var r,i=n(530),a=n.n(i);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r=a.a.template,(a.a.templates=a.a.templates||{}).timelineitem=r({1:function(t,e,n,r,i){var a=t.lambda,o=t.escapeExpression,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"                <li>"+o(a(null!=e?s(e,"name"):e,e))+": "+o(a(null!=e?s(e,"value"):e,e))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var a,s,c=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,u=t.escapeExpression,f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="timeline-tippy"\n    data-tippy-sticky="true"\n    data-tippy-interactive="true"\n    data-tippy-content=\'<div>\n        <b>Record '+u("function"===o(s=null!=(s=f(n,"current_id")||(null!=e?f(e,"current_id"):e))?s:l)?s.call(c,{name:"current_id",hash:{},data:i,loc:{start:{line:5,column:18},end:{line:5,column:32}}}):s)+'</b><br>\n        <ul class="list-unstyled">\n'+(null!=(a=f(n,"each").call(c,null!=e?f(e,"values"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:7,column:12},end:{line:9,column:21}}}))?a:"")+'        </ul>\n        <a class = "moreinfo" data-record-id="'+u("function"===o(s=null!=(s=f(n,"current_id")||(null!=e?f(e,"current_id"):e))?s:l)?s.call(c,{name:"current_id",hash:{},data:i,loc:{start:{line:11,column:46},end:{line:11,column:60}}}):s)+'">Read more</a> |\n        <a href="/edit/'+u("function"===o(s=null!=(s=f(n,"current_id")||(null!=e?f(e,"current_id"):e))?s:l)?s.call(c,{name:"current_id",hash:{},data:i,loc:{start:{line:12,column:23},end:{line:12,column:37}}}):s)+'">Edit item</a>\n    </div>\'\n    data-tippy-animation="scale"\n    data-tippy-duration="0"\n    data-tippy-followCursor="initial"\n    data-tippy-arrow="true"\n    data-tippy-delay="[200, 200]"\n  >\n  '+u("function"===o(s=null!=(s=f(n,"content")||(null!=e?f(e,"content"):e))?s:l)?s.call(c,{name:"content",hash:{},data:i,loc:{start:{line:20,column:2},end:{line:20,column:13}}}):s)+"\n</div>\n"},useData:!0})},823:function(t,e,n){"use strict";(function(t){n(72),n(206),n(204),n(333),n(330),n(20),n(3),n(297),n(218),n(208),n(323),n(99),n(31),n(98),n(307),n(79);function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!t||!t.length)return 0;try{var n=t.css(e);return n?parseFloat(parseFloat(n.replace("px")).toFixed(4)):0}catch(t){return console.error("fatal error",t),0}}function r(t){var e=(t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform")).replace(/[^0-9\-.,]/g,"").split(","),n=e[12]||e[4],r=e[13]||e[5];return{x:parseFloat(n),y:parseFloat(r)}}function i(n){var i,a,o,s=Math.floor(n.offset().top),c=e(n,"height"),l=function(n){var i=[],a={},o=[];return n.find(".vis-item:visible").each((function(){var n=e(t(this),"top"),i=r(t(this));n=0===n?i.y:n,-1===t.inArray(n,o)&&o.push(n),a[n]||(a[n]=[]),a[n].push({node:t(this),label:t(this).find(".timeline-tippy").html().trim(),width:e(t(this),"width"),x:i.x,y:i.y,top:n,textColor:!!t(this).css("color")&&t(this).css("color"),backgroundColor:t(this).css("background-color")})})),o.sort((function(t,e){return t>e?1:-1})),t.each(o,(function(t,e){i.push(a[e])})),i}(n);return{node:n,top:s=0===s?r(n).y:s,height:c,label:(i=s,a=t(".vis-label:visible"),o=null,a.each((function(){var e=t(this).offset().top;e=0===e?r(t(this)).y:e,Math.floor(e)===i&&(o=t(this))})),o?{node:o,text:o.find(".vis-inner").first().html()||""}:null),itemRows:l}}function a(){var n=function(){var e=t(".vis-foreground .vis-group:visible"),n={};return e&&0!==e.length?(e.each((function(){if(t(this).html()){var e=i(t(this));n[e.top]=e}})),n):n}();n!=={}&&function(n){var i=t("#html").first(),a=t(".vis-timeline").first(),c=t(".vis-time-axis.vis-foreground").first(),l=t(".vis-panel.vis-left").first(),u=c.find(".vis-text.vis-minor:not(.vis-measure)").first(),f=o(n)||!1,d=!!f&&o(f.itemRows),p=!!(d&&d[0]&&d[0].node)&&d[0].node,m=!!p&&p.find(".vis-item-content").first(),h=t(".vis-label:visible").first(),j=t(".vis-current-time"),v=e(h,"width")>0?"true":"false",g=e(a,"width"),y=t("#fit_to_page_width").prop("checked"),b=parseInt(t("#pdf_zoom").val(),10),x=i.data("url-js"),w=i.data("url-css"),k=b/100>0?b/100:1,_=y&&1550/g>0?1550/g:1,T=y?_:k,z=e(p,"font-size"),O=e(p,"line-height"),S=e(c,"height"),F=e(l,"width"),C=e(p,"border-top-width"),P=e(m,"padding-top"),D=e(u,"padding-top"),A=j.length?r(j.first()).x:-1,E="{"+function(e){return"xAxis: {height: tableXAxisBarHeight,x: "+r(e.find(".vis-text.vis-minor:not(.vis-measure)").first()).x+",major: "+function(e){var n=function(e){var n=e.find(".vis-text.vis-major:not(.vis-measure)"),i=[];n.each((function(){i.push({node:t(this),x:r(t(this)).x,x_end:!1})})),i.sort((function(t,e){return t.x>e.x?1:-1})),i.reverse();var a=!1;return t(i).each((function(t,e){i[t].x_end=a,a=i[t].x})),i.reverse(),i}(e),i="";n&&n.length?t.each(n,(function(t,n){var r=n.node.find("div").first().html(),a=s(e,n.x,n.x_end,0===t);i+=(""===i?"":",")+'{text: "'+r+'", x: '+n.x+", minor: "+a+"}"})):i+='{text: "", x: '+majorObject.x+", minor: "+s(e)+"}";return"["+i+"]"}(e)+"}"}(c)+","+function(e){var n="";return t.each(e,(function(e,r){var i,a;n+=(""===n?"":",")+'{label: "'+r.label.text+'", rows: ['+(i=r.itemRows,a="",t.each(i,(function(e,n){a+=(""===a?"":",")+"{items: ["+function(e){var n="";return t.each(e,(function(t,e){n+=(""===n?"":",")+"{x: "+e.x+", width: "+e.width+', text: "'+e.label.trim()+'", top: '+e.top+', textColor: "'+e.textColor+'", backgroundColor: "'+e.backgroundColor+'" }'})),n}(n)+"]}"})),a+"]}")})),"groups: ["+n+"]"}(n)+"}";t("input#html").val('<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8">\n    <title>Data</title>\n    <script type="application/javascript" src="'.concat(x,'/jquery-3.5.1.min.js"><\/script>\n    <script type="application/javascript" src="').concat(x,'/pdf_printer.js"><\/script>\n    <link rel="stylesheet" type="text/css" href="').concat(w,'/pdf_printer.css">\n    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans">\n  </head>\n  <body>\n    <script type="application/javascript">\n      const pagePrefix = "page_";\n      const pageHeight = 1086;\n      const pageWidth = 1550;\n      const pageScaleFactor = ').concat(T,';\n      const backgroundColor = "#fff";\n      const foregroundColor = "#333";\n      const xAxisMinorColor = "#ccc";\n      const xAxisTextColor = "#4d4d4d";\n      const currentTimeColor = "#ff7f6e";\n      const font = "Open Sans";\n      const fontSize = ').concat(z," * pageScaleFactor;\n      const lineHeight = ").concat(O," * pageScaleFactor;\n      const tableXAxisBarHeight = ").concat(S," * pageScaleFactor;\n      const showYAxisBar = ").concat(v,";\n      const tableYAxisBarWidth = showYAxisBar ? ").concat(F," * pageScaleFactor : 0;\n      const borderSize = ").concat(C," * pageScaleFactor;\n      const padding = ").concat(P," * pageScaleFactor;\n      const xAxisPadding = ").concat(D," * pageScaleFactor;\n      const currentTimeX = ").concat(A," * pageScaleFactor + tableYAxisBarWidth;\n      const currentTimeThickness = 2 * pageScaleFactor;\n      const pageData = ").concat(E,";\n      let pageNumber = 0;\n      let currentHeight = 0;\n      let canvas = null;\n      let context = null;\n\n      drawTimelinePdf();\n    <\/script>\n  </body>\n</html>"))}(n)}function o(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[Object.keys(t)[e]]||null}(t,0)}function s(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=n.find(".vis-text.vis-minor:not(.vis-measure)"),c="";return!1!==a&&(a-=1),t.each(s,(function(){var n=t(this),s=r(n);if(!1!==i){if(o&&!1!==a&&s.x>=a)return!0;if(!o&&(s.x<i||!1!==a&&s.x>=a))return!0}var l=e(n,"width"),u=n.html();c+=(""===c?"":",")+"{x: "+s.x+", width: "+l+', text: "'+u+'"}'})),"["+c+"]"}t(document).ready((function(){var e=t("#modal_pdf");if(e.length){var n=e.find("form").first(),r=t("#fit_to_page_width").first(),i=t("#pdf_zoom").first();r.change((function(){if(t(this).is(":checked"))i.data("original-value",i.val()),i.val(100),i.prop("disabled",!0);else{var e=parseInt(i.data("original-value"),10);i.val(e>0?e:100),i.prop("disabled",!1)}})),n.submit((function(){return a(),!0}))}}))}).call(this,n(1))},830:function(t,e,n){"use strict";n.r(e),function(t,r){n(20),n(3),n(204),n(98),n(72),n(307),n(31),n(206),n(15),n(16),n(12),n(13),n(9),n(10),n(14),n(11),n(2),n(4),n(5);var i=n(0),a=n(825),o=n(288),s=n.n(o),c=n(179),l=n(530),u=n.n(l);n(822),n(823);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===f(a)?a:String(a)),r)}var i,a}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(f,e);var n,i,o,l=m(f);function f(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,e)).el=t(n.element),n.initTimeline(),n}return n=f,(i=[{key:"initTimeline",value:function(){var e=t(this.element).find(".timeline__visualization"),n=e.data("records"),i=r.from(n,"base64"),o=JSON.parse(i);this.injectContrastingColor(o);var c=new a.a(o),l=e.data("groups"),f=r.from(l,"base64");l=JSON.parse(f);var d=!!e.data("dashboard"),p=t("body").data("layout-identifier"),m={margin:{item:{horizontal:-1}},moment:function(t){return s()(t).utc()},clickToUse:d,zoomFriction:10,template:u.a.templates.timelineitem,orientation:{axis:"both"}};e.data("min")&&(m.start=e.data("min")),e.data("max")&&(m.end=e.data("max")),e.data("width")&&(m.width=e.data("width")),e.data("height")&&(m.width=e.data("height")),e.data("rewind")||(m.editable={add:!1,updateTime:!0,updateGroup:!1,remove:!1},m.multiselect=!0);var h=new a.b(e.get(0),c,m);l.length>0&&h.setGroups(l);var j,v,g=!0,y=this;h.on("changed",(function(t){g&&(y.setupTippy(),g=!1)})),h.on("rangechanged",(function(t){if(!t.byUser)return v||(v=t.start.getTime()),void(j||(j=t.end.getTime()));if(t.start.getTime()>v&&t.end.getTime()<j)x(t);else{e.prev(".timeline__loader").show();var n=c.min("start"),r=(n=c.max("start"))?new Date(n.start):void 0,i=(n=c.min("end"))?new Date(n.end):void 0;i&&!n.has_time&&i.setDate(i.getDate()-1),n=c.max("end");var a=(n=c.min("single"))?new Date(n.single):void 0,o=(n=c.max("single"))?new Date(n.single):void 0,s={};s.min=i&&a?i<a?i:a:i||a,s.max=r&&o?r>o?r:o:r||o,s.min||w(t.start.getTime(),t.end.getTime()),t.start<s.min&&w(t.start.getTime(),s.min.getTime(),"to"),t.end>s.max&&w(s.max.getTime(),t.end.getTime(),"from"),(!j||j<t.end.getTime())&&(j=t.end.getTime()),(!v||v>t.start.getTime())&&(v=t.start.getTime()),e.prev(".timeline__loader").hide(),x(t)}}));var b=t("body").data("csrf-token");function x(e){d||t.post({url:"/"+p+"/data_timeline?",data:"from="+e.start.getTime()+"&to="+e.end.getTime()+"&csrf_token="+b})}function w(n,r,i){var a="/"+p+"/data_timeline/10?from="+n+"&to="+r+"&exclusive="+i;d&&(a=a+"&dashboard=1&view="+e.data("view")),t.ajax({async:!1,url:a,dataType:"json",success:function(t){c.add(t)}})}return t("#tl_group").on("change",(function(){t(this).find(":selected").data("fixedvals")?t("#tl_all_group_values_div").show():t("#tl_all_group_values_div").hide()})).trigger("change"),h}},{key:"setupTippy",value:function(){this.el.find("[data-tippy-content]").each((function(t,e){var n=new c.a(e),r=e.closest(".vis-group");n.initTippy(r)}))}},{key:"snapToDay",value:function(t){var e=t.getUTCFullYear(),n=("0"+(t.getUTCMonth()+1)).slice(-2),r=("0"+t.getUTCDate()).slice(-2);return s.a.utc(""+e+n+r)}},{key:"injectContrastingColor",value:function(t){var e=this;t.forEach((function(t){if(t.style&&"string"==typeof t.style){var n=t.style.match(/background-color:\s(#[0-9A-Fa-f]{6})/);if(n&&n[1]){var r=n[1];"dark"===e.lightOrDark(r)&&(t.style="\n                ".concat(t.style,";\n                color: #FFFFFF;\n                text-shadow:-1px -1px 0.1em ").concat(r,",\n                  1px -1px 0.1em ").concat(r,",\n                  -1px 1px 0.1em ").concat(r,",\n                  1px 1px 0.1em ").concat(r,",\n                  1px 1px 2px ").concat(r,",\n                  0 0 1em ").concat(r,",\n                  0 0 0.2em ").concat(r,";"))}}}))}},{key:"lightOrDark",value:function(t){var e=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")),n=e>>16,r=e>>8&255,i=255&e;return Math.sqrt(n*n*.299+r*r*.587+i*i*.114)>150?"light":"dark"}}])&&d(n.prototype,i),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),f}(i.a);e.default=v}.call(this,n(1),n(64).Buffer)}}]);